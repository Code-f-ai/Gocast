@use '@styles/utils' as uti;

.feed{
    color: uti.$gray-color-1;
    @include uti.Typography(500,1.4rem,2rem);

    .feed-header{
        @include uti.flexbox(center,space-between);
        container-name: feed-header;
        container-type: inline-size;
    }

    .feed-tab{
        @include uti.flexbox(center,center,0);
    }
    .feed-tab-item-wrapper{
        padding: 1rem 1rem;
        border-bottom: 2px solid uti.$black-color-1;
        transition: all 0.15s ease-in-out;

        &:hover{
            color: uti.$primary-color;
            border-bottom: 2px solid uti.$primary-color;
        }
    }
    .feed-tab-item{
        max-width: 8rem;
        @include uti.textellip(1,null);
    }
    
    .feed-toggle{
        @include uti.flexbox(center,center,1rem);

        & p{
            max-width: 20rem;
            @include uti.textellip(1,null);
        }
        
        & input{
            display: none;
            &:checked + .label-toggle{

                &::before{
                    transform: translateY(-50%) translateX(10px);
                    background-color: uti.$natural-color-1;
                }
                &::after{
                    opacity: 1;
                }
            }
        }

        .label-toggle{
            position: relative;
            @include uti.size(30px,17px);
            border-radius: 100rem;
            border: 1px solid uti.$natural-color;
            cursor: pointer;
            flex-shrink: 0;
            z-index: 1;
            &::before{
                content: "";
                @include uti.positon(50%,null,null,2px);
                transform: translateY(-50%) translateX(0);
                @include uti.size(14px);
                border-radius: 100rem;
                background-color: uti.$natural-color;
                transition: all 0.2s linear;
                z-index: 3;
            }
            &::after{
                content: "";
                @include uti.positon(0);
                border-radius: 100rem;
                background: linear-gradient(to right, uti.$gradient-color-1, uti.$gradient-color-2);
                z-index: 2;
                opacity: 0;
                transition: all 0.2s linear;
            }
        }

    }

    @container feed-header (max-width:50rem){
        & .feed-toggle p{
            display: none;
        }
    }
    // c√°ch 2:
    // .feed-toggle{
    //     @include uti.flexbox(center,center,1rem);
        
    //     & input{
    //         display: none;
    //         &:checked + .label-toggle{

    //             &::before{
    //                 opacity: 1;
    //             }

    //             & .label-circle{
    //                     transform: translateX(10px);
    //                     background-color: uti.$natural-color-1;
    //                 }
    //             }
    //         }
            
    //         & .label-toggle{
    //             @include uti.size(30px,17px);
    //             border-radius: 100rem;
    //             border: 1px solid uti.$natural-color;
    //             cursor: pointer;
    //             padding: 1.5px 2px;
    //             display: flex;
    //             align-items: center;
    //             position: relative;
    //             flex-shrink: 0;
                
    //             &::before{
    //                 content: "";
    //                 position: absolute;
    //                 inset: 0;
    //                 opacity: 0;
    //                 border-radius: 100rem;
    //                 background: linear-gradient(to right, uti.$gradient-color-1, uti.$gradient-color-2);
    //                 transition: all 0.25s ease-in-out;
    //         }
    //         & .label-circle{
    //             display: inline-block;
    //             transform: translateX(0px);
    //             @include uti.size(14px);
    //             border-radius: 50%;
    //             background-color: uti.$natural-color;
    //             flex-shrink: 0;
    //             transition: all 0.25s ease-in-out;
    
    //         }
    //     }
    // }


    // .feed-main{

    // }
    .feed-main{
        margin-top: 4rem;
        // border: 1px solid uti.$natural-color-2;
        border: 1px solid var(--bg-border-dark,uti.$gray-color-4);
        border-radius: 1rem;
        box-shadow: inset 0 0 3px 0.5px uti.$natural-color-2;
    }
    .feed-main-item{
        container-name: feed-main-item;
        container-type: inline-size;
    }
    .feed-main-header{
        @include uti.flexbox(center,null,1.6rem);
        // border-bottom: 1px solid uti.$natural-color-2;
        border-bottom: 1px solid var(--bg-border-dark,uti.$gray-color-4);
        padding: 2rem 2rem;
        container-name: feed-main-header;
        container-type: inline-size;
        position: relative;

        & i{
            color: uti.$gray-color-2;
            @include uti.positon(2rem,2rem,null,null);
        }
    }

    .feed-profile-avata{
        @include uti.size(4.8rem);
        flex-shrink: 0;
        border-radius: 100rem;
        background-color: uti.$Secondary-color-white-40;
        position: relative;

    }
    
    .feed-profile-image{
        border-radius: 100rem;
        object-fit: cover;
        @include uti.size(100%);
    }
    .feed-profile-icon{
        @include uti.size(1.8rem);
        object-fit: cover;
        @include uti.positon(50%,null,null,50%);
        transform: translate(50%,50%);
    }
    .feed-profile-desc{
        color: uti.$gray-color-2;

        & span{
            max-width: 15rem;
            @include uti.textellip(1,null);  
            @include uti.Typography(400,1.4rem,2rem);
        }
    }
    .feed-prfile-desc-evaluate{
        @include uti.flexbox(center,null,3px);
        & p{
            max-width: 25rem;
            @include uti.textellip(1,null);
            @include uti.Typography(500,1.4rem,2rem);
            text-transform: capitalize;
            // color: uti.$black-color-1
            color: var(--color-trending-dark, uti.$black-color-1);
        }
    }
    .feed-profile-desc-stars{
        @include uti.flexbox(center,null);
        & span{
            max-width: 25rem;
            @include uti.textellip(1,null);  
            margin-right: 1.5rem;
            @include uti.Typography(500,1.4rem,2rem);
        }
        & img{
            @include uti.size(1.2rem);
            object-fit: cover;
            flex-shrink: 0;
        }
        
    }

    @container feed-main-header (max-width:50rem){
        & .feed-profile-desc .feed-prfile-desc-evaluate{
            flex-direction: column;
            align-items: flex-start;
        }
    }

    .feed-main-body{
        display: grid;
        grid-template-columns: 15.2rem 1fr;
        column-gap: 1.5rem;
        padding: 2rem;
        // border-bottom: 1px solid uti.$natural-color-2;
        border-bottom: 1px solid var(--bg-border-dark,uti.$gray-color-4);
        color: var(--color-trending-dark, uti.$black-color-1);
    }
    
    .feed-body-image-wrapper{
        @include uti.size(15.2rem,15.8rem);
        border-radius: 1rem;
    }
    .feed-body-image{
        @include uti.size(100%);
        border-radius: 1rem;
        object-fit: cover;
    }
    .feed-body-content{
        position: relative;
    }
    .feed-body-icon-share {
        @include uti.positon(0,0,null,null);
        @include uti.size(2rem);
        object-fit: cover
    }
    .feed-body-podcast{
        max-width: 35rem;
        @include uti.textellip(1,null);  
        @include uti.Typography(400,1.4rem,2rem);
        text-transform: capitalize;
        color: uti.$gray-color-2;
        margin-bottom: 0.5rem;
    }
    .feed-body-title{
        max-width: 46.5rem;
        @include uti.textellip(1,null);
        @include uti.Typography(500,1.4rem,2rem);
        // color: uti.$black-color-1;
        color: inherit
    }
    .feed-body-time{
        @include uti.flexbox(center,null,1rem);
    }
    .feed-body-time-item{
        @include uti.flexbox(center,null,0.5rem);
        margin: 0.5rem 0;

        & img{
            @include uti.size(1.4rem);
            object-fit: cover;
        }

        & span{
            max-width: 12.5rem;
            @include uti.textellip(1,null); 
            @include uti.Typography(400,1.4rem,2rem);
            color: uti.$gray-color-2;
        }
    }
    .feed-body-desc{
        @include uti.textellip(3,null);
        @include uti.Typography(400,1.3rem,1.9rem);
        // color: uti.$black-color-1;
        color: inherit;
    }
    @container feed-main-item (max-width: 50rem){
        & .feed-main-body{
            grid-template-columns: 1fr;
            // grid-auto-rows: 1fr;
            row-gap: 2rem;
        }

        & .feed-body-icon-share {
            display: none;
        }
        
        & .feed-body-image-wrapper{
            width: 100%;
            height: auto;
            aspect-ratio: 289 / 153;
            
            & .feed-body-image{
                @include uti.size(100%);
                object-fit: cover;
                object-position: 0% 20%;
            }

        }
    }

    .feed-main-footer{
        @include uti.flexbox(center, space-between);
        padding: 2rem;
    }
    .feed-footer-left{
        @include uti.flexbox(center, center,2rem);
    }
    .feed-footer-icon{
        @include uti.size(2rem);
        object-fit: cover;
        cursor: pointer;
    }
    .feed-footer-button{
        @include uti.flexbox(center, center,0.8rem);
        padding: 0.8rem 1.4rem;
        cursor: pointer;

        & span{
            max-width: 8.5rem;
            @include uti.textellip(1,null); 
            @include uti.Typography(500,1.4rem,2rem);
            color: uti.$natural-color-6;
        }
    }
    .feed-footer-button-icon{
        @include uti.size(1.8rem);
        object-fit: cover;
    }

    .feed-main:nth-of-type(3){
        
        .feed-profile-avata{
            background-color: uti.$Support-Color-2nd-50;
        }
        .feed-profile-desc{
            & .feed-profile-desc-date{
                @include uti.flexbox(center,null);
                @include uti.Typography(400,1.4rem,2rem);

                & span:first-child{
                    max-width: 25rem;
                    @include uti.textellip(1,null);
                    
                    &::after{
                        content: "";
                        display: inline-block;
                        @include uti.size(0.3rem);
                        vertical-align: middle;
                        border-radius: 100rem;
                        background-color: uti.$gray-color-2;
                        margin: 0 0.5rem;
                    }
                }
                & span:last-child{
                    max-width: 15rem;
                    @include uti.textellip(1,null);  
                }
            }
        }
    }
    
}